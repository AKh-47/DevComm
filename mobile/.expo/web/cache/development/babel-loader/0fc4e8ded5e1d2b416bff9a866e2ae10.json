{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/home/akhilkala/Desktop/App/DevComm/mobile/context/RoomsContext.tsx\";\nimport React, { useContext, useState } from \"react\";\nimport socket from \"../utils/socket\";\nimport { useAuth } from \"./AuthContext\";\nsocket.on(\"connect\", function () {\n  console.log(socket);\n});\nsocket.emit(\"join-room\");\nvar RoomsContext = React.createContext(null);\nexport function useRooms() {\n  return useContext(RoomsContext);\n}\nexport default function RoomsProvider(_ref) {\n  var children = _ref.children;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      room = _useState2[0],\n      setRoom = _useState2[1];\n\n  var auth = useAuth();\n\n  var joinRoom = function joinRoom(roomID) {\n    socket.emit(\"join-room\", \"react\");\n    setRoom(roomID);\n  };\n\n  var leaveRoom = function leaveRoom(roomID) {\n    socket.emit(\"leave-room\", \"react\");\n    setRoom(null);\n  };\n\n  var sendMessage = function sendMessage(message) {\n    if (!room) return;\n    socket.emit(\"leave-room\", room, auth == null ? void 0 : auth.currentUser, message);\n  };\n\n  var value = {\n    joinRoom: joinRoom,\n    leaveRoom: leaveRoom\n  };\n  return React.createElement(RoomsContext.Provider, {\n    value: value,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }\n  }, children);\n}","map":{"version":3,"sources":["/home/akhilkala/Desktop/App/DevComm/mobile/context/RoomsContext.tsx"],"names":["React","useContext","useState","socket","useAuth","on","console","log","emit","RoomsContext","createContext","useRooms","RoomsProvider","children","room","setRoom","auth","joinRoom","roomID","leaveRoom","sendMessage","message","currentUser","value"],"mappings":";;AAAA,OAAOA,KAAP,IAA8BC,UAA9B,EAA0CC,QAA1C,QAA0D,OAA1D;AAEA,OAAOC,MAAP;AACA,SAASC,OAAT;AAEAD,MAAM,CAACE,EAAP,CAAU,SAAV,EAAqB,YAAM;AACzBC,EAAAA,OAAO,CAACC,GAAR,CAAYJ,MAAZ;AACD,CAFD;AAIAA,MAAM,CAACK,IAAP,CAAY,WAAZ;AAWA,IAAMC,YAAY,GAAGT,KAAK,CAACU,aAAN,CAAqC,IAArC,CAArB;AAEA,OAAO,SAASC,QAAT,GAAoB;AACzB,SAAOV,UAAU,CAACQ,YAAD,CAAjB;AACD;AAED,eAAe,SAASG,aAAT,OAA0D;AAAA,MAAjCC,QAAiC,QAAjCA,QAAiC;;AAAA,kBAC/CX,QAAQ,CAAiB,IAAjB,CADuC;AAAA;AAAA,MAChEY,IADgE;AAAA,MAC1DC,OAD0D;;AAGvE,MAAMC,IAAI,GAAGZ,OAAO,EAApB;;AAEA,MAAMa,QAAQ,GAAG,SAAXA,QAAW,CAACC,MAAD,EAAoB;AACnCf,IAAAA,MAAM,CAACK,IAAP,CAAY,WAAZ,EAAyB,OAAzB;AACAO,IAAAA,OAAO,CAACG,MAAD,CAAP;AACD,GAHD;;AAKA,MAAMC,SAAS,GAAG,SAAZA,SAAY,CAACD,MAAD,EAAoB;AACpCf,IAAAA,MAAM,CAACK,IAAP,CAAY,YAAZ,EAA0B,OAA1B;AACAO,IAAAA,OAAO,CAAC,IAAD,CAAP;AACD,GAHD;;AAKA,MAAMK,WAAW,GAAG,SAAdA,WAAc,CAACC,OAAD,EAAqB;AACvC,QAAI,CAACP,IAAL,EAAW;AACXX,IAAAA,MAAM,CAACK,IAAP,CAAY,YAAZ,EAA0BM,IAA1B,EAAgCE,IAAhC,oBAAgCA,IAAI,CAAEM,WAAtC,EAAmDD,OAAnD;AACD,GAHD;;AAKA,MAAME,KAAK,GAAG;AACZN,IAAAA,QAAQ,EAARA,QADY;AAEZE,IAAAA,SAAS,EAATA;AAFY,GAAd;AAKA,SACE,oBAAC,YAAD,CAAc,QAAd;AAAuB,IAAA,KAAK,EAAEI,KAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAsCV,QAAtC,CADF;AAGD","sourcesContent":["import React, { ReactElement, useContext, useState } from \"react\";\nimport { Room, Nullable } from \"../utils/types\";\nimport socket from \"../utils/socket\";\nimport { useAuth } from \"./AuthContext\";\n\nsocket.on(\"connect\", () => {\n  console.log(socket);\n});\n\nsocket.emit(\"join-room\");\n\ninterface Props {\n  children: ReactElement;\n}\n\ninterface Value {\n  joinRoom: (roomID: string) => void;\n  leaveRoom: (roomID: string) => void;\n}\n\nconst RoomsContext = React.createContext<Nullable<Value>>(null);\n\nexport function useRooms() {\n  return useContext(RoomsContext);\n}\n\nexport default function RoomsProvider({ children }: Props): ReactElement {\n  const [room, setRoom] = useState<Nullable<Room>>(null);\n\n  const auth = useAuth();\n\n  const joinRoom = (roomID: string) => {\n    socket.emit(\"join-room\", \"react\");\n    setRoom(roomID);\n  };\n\n  const leaveRoom = (roomID: string) => {\n    socket.emit(\"leave-room\", \"react\");\n    setRoom(null);\n  };\n\n  const sendMessage = (message: string) => {\n    if (!room) return;\n    socket.emit(\"leave-room\", room, auth?.currentUser, message);\n  };\n\n  const value = {\n    joinRoom,\n    leaveRoom,\n  };\n\n  return (\n    <RoomsContext.Provider value={value}>{children}</RoomsContext.Provider>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}