{"ast":null,"code":"var _jsxFileName = \"/home/akhilkala/Desktop/App/DevComm/mobile/context/RoomsContext.tsx\";\nimport React, { useContext, useEffect } from \"react\";\nimport socket from \"../utils/socket\";\nimport { useAuth } from \"./AuthContext\";\nvar RoomsContext = React.createContext(null);\nexport function useRooms() {\n  return useContext(RoomsContext);\n}\nexport default function RoomsProvider(_ref) {\n  var children = _ref.children;\n  var auth = useAuth();\n  useEffect(function () {\n    socket.on(\"recive-message\", function (user, message) {});\n  }, []);\n\n  var joinRoom = function joinRoom(roomID) {\n    socket.emit(\"join-room\", \"react\");\n  };\n\n  var leaveRoom = function leaveRoom(roomID) {\n    socket.emit(\"leave-room\", \"react\");\n  };\n\n  var sendMessage = function sendMessage(roomID, message) {\n    if (!room) return;\n    socket.emit(\"leave-room\", roomID, auth == null ? void 0 : auth.currentUser, message);\n  };\n\n  var value = {\n    joinRoom: joinRoom,\n    leaveRoom: leaveRoom,\n    sendMessage: sendMessage\n  };\n  return React.createElement(RoomsContext.Provider, {\n    value: value,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }\n  }, children);\n}","map":{"version":3,"sources":["/home/akhilkala/Desktop/App/DevComm/mobile/context/RoomsContext.tsx"],"names":["React","useContext","useEffect","socket","useAuth","RoomsContext","createContext","useRooms","RoomsProvider","children","auth","on","user","message","joinRoom","roomID","emit","leaveRoom","sendMessage","room","currentUser","value"],"mappings":";AAAA,OAAOA,KAAP,IAA8BC,UAA9B,EAAoDC,SAApD,QAAqE,OAArE;AAEA,OAAOC,MAAP;AACA,SAASC,OAAT;AAiBA,IAAMC,YAAY,GAAGL,KAAK,CAACM,aAAN,CAAqC,IAArC,CAArB;AAEA,OAAO,SAASC,QAAT,GAAoB;AACzB,SAAON,UAAU,CAACI,YAAD,CAAjB;AACD;AAED,eAAe,SAASG,aAAT,OAA0D;AAAA,MAAjCC,QAAiC,QAAjCA,QAAiC;AACvE,MAAMC,IAAI,GAAGN,OAAO,EAApB;AAEAF,EAAAA,SAAS,CAAC,YAAM;AACdC,IAAAA,MAAM,CAACQ,EAAP,CAAU,gBAAV,EAA4B,UAACC,IAAD,EAAkBC,OAAlB,EAAsC,CAAE,CAApE;AACD,GAFQ,EAEN,EAFM,CAAT;;AAIA,MAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,MAAD,EAAoB;AACnCZ,IAAAA,MAAM,CAACa,IAAP,CAAY,WAAZ,EAAyB,OAAzB;AACD,GAFD;;AAIA,MAAMC,SAAS,GAAG,SAAZA,SAAY,CAACF,MAAD,EAAoB;AACpCZ,IAAAA,MAAM,CAACa,IAAP,CAAY,YAAZ,EAA0B,OAA1B;AACD,GAFD;;AAIA,MAAME,WAAW,GAAG,SAAdA,WAAc,CAACH,MAAD,EAAiBF,OAAjB,EAAqC;AACvD,QAAI,CAACM,IAAL,EAAW;AACXhB,IAAAA,MAAM,CAACa,IAAP,CAAY,YAAZ,EAA0BD,MAA1B,EAAkCL,IAAlC,oBAAkCA,IAAI,CAAEU,WAAxC,EAAqDP,OAArD;AACD,GAHD;;AAKA,MAAMQ,KAAK,GAAG;AACZP,IAAAA,QAAQ,EAARA,QADY;AAEZG,IAAAA,SAAS,EAATA,SAFY;AAGZC,IAAAA,WAAW,EAAXA;AAHY,GAAd;AAMA,SACE,oBAAC,YAAD,CAAc,QAAd;AAAuB,IAAA,KAAK,EAAEG,KAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAsCZ,QAAtC,CADF;AAGD","sourcesContent":["import React, { ReactElement, useContext, useState, useEffect } from \"react\";\nimport { Room, Nullable } from \"../utils/types\";\nimport socket from \"../utils/socket\";\nimport { useAuth } from \"./AuthContext\";\n\ninterface Props {\n  children: ReactElement;\n}\n\ninterface Value {\n  joinRoom: (roomID: string) => void;\n  leaveRoom: (roomID: string) => void;\n  sendMessage: (message: string) => void;\n}\n\ninterface IUserLink {\n  message: string;\n  _id: string;\n}\n\nconst RoomsContext = React.createContext<Nullable<Value>>(null);\n\nexport function useRooms() {\n  return useContext(RoomsContext);\n}\n\nexport default function RoomsProvider({ children }: Props): ReactElement {\n  const auth = useAuth();\n\n  useEffect(() => {\n    socket.on(\"recive-message\", (user: IUserLink, message: string) => {});\n  }, []);\n\n  const joinRoom = (roomID: string) => {\n    socket.emit(\"join-room\", \"react\");\n  };\n\n  const leaveRoom = (roomID: string) => {\n    socket.emit(\"leave-room\", \"react\");\n  };\n\n  const sendMessage = (roomID: string, message: string) => {\n    if (!room) return;\n    socket.emit(\"leave-room\", roomID, auth?.currentUser, message);\n  };\n\n  const value = {\n    joinRoom,\n    leaveRoom,\n    sendMessage,\n  };\n\n  return (\n    <RoomsContext.Provider value={value}>{children}</RoomsContext.Provider>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}